---
# Namespace should be created when running dedicated node.
# See instructions on README.md#recommended-dedicated-node
apiVersion: v1
kind: Namespace
metadata:
  labels:
    kubernetes.io/metadata.name: sonobuoy
  annotations:
    scheduler.alpha.kubernetes.io/defaultTolerations: '[{"operator": "Exists", "effect":
      "NoSchedule", "key": "node-role.kubernetes.io/tests", "value": ""}]'
  name: sonobuoy
spec:
  # Not sure if it's valid for NS scope
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchExpressions:
          - key: node-role.kubernetes.io/worker
            operator: In
            values:
              - ""
      preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 99
        preference:
          matchExpressions:
            - key: node-role.kubernetes.io/tests
              operator: In
              values:
              - ""
      - weight: 1
        preference:
          matchExpressions:
          - key: node-role.kubernetes.io/worker
            operator: In
            values:
            - ""
